<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GRIPscript Golf Grip Fitting Survey</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Inter', sans-serif; 
      background: linear-gradient(135deg, #f0f9ff 0%, #f0fdf4 100%);
    }
    
    /* GRIPscript Design System */
    :root {
      --gs-green: #00B140;
      --gs-blue: #5AC8FA;
      --gs-grey: #F0F0F0;
      --gs-dark: #1a1a1a;
      --gs-light: #f8fafc;
    }
    
    /* Survey Container */
    .survey-container {
      max-width: 400px;
      margin: 0 auto;
      padding: 1rem;
      min-height: 100vh;
      display: flex;
      align-items: center;
    }
    
    .survey-card {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      overflow: hidden;
      width: 100%;
    }
    
    /* Header */
    .survey-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.5rem;
      border-bottom: 1px solid #f1f5f9;
    }
    
    .question-number {
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--gs-green);
    }
    
    .gripscript-logo {
      font-weight: 700;
      font-size: 1.125rem;
      color: var(--gs-green);
    }
    
    .menu-icon {
      font-size: 1.25rem;
      color: #cbd5e1;
      cursor: pointer;
    }
    
    /* Body */
    .survey-body {
      padding: 2rem 1.5rem;
      text-align: center;
    }
    
    .grip-icon {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: var(--gs-green);
    }
    
    .question-text {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--gs-green);
      margin-bottom: 1.5rem;
      line-height: 1.4;
    }
    
    /* Section Intro */
    .section-intro {
      background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 1rem;
    }
    
    .section-intro h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--gs-green);
      margin-bottom: 0.75rem;
    }
    
    .section-intro p {
      color: #64748b;
      line-height: 1.6;
    }
    
    /* Options */
    .options-container {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }
    
    .option-button {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 1rem 1.5rem;
      font-size: 1rem;
      font-weight: 600;
      color: #475569;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 0.025em;
    }
    
    .option-button:hover {
      border-color: var(--gs-green);
      background: #f0fdf4;
    }
    
    .option-button.selected {
      background: var(--gs-green);
      border-color: var(--gs-green);
      color: white;
    }
    
    .option-button.horizontal {
      flex: 1;
    }
    
    .horizontal-options {
      display: flex;
      gap: 0.75rem;
    }
    
    /* Sliders */
    .slider-container {
      margin: 2rem 0;
    }
    
    .slider-value {
      font-size: 3rem;
      font-weight: 700;
      color: var(--gs-green);
      margin-bottom: 1rem;
    }
    
    .slider-input {
      -webkit-appearance: none;
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: #e2e8f0;
      outline: none;
      margin: 1rem 0;
    }
    
    .slider-input::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--gs-green);
      cursor: pointer;
      border: 3px solid white;
      box-shadow: 0 2px 8px rgba(0, 177, 64, 0.3);
    }
    
    .slider-labels {
      display: flex;
      justify-content: space-between;
      font-size: 0.875rem;
      color: #64748b;
      font-weight: 500;
    }
    
    /* Shot Shape */
    .shot-shape-container {
      margin: 2rem 0;
    }
    
    .shot-svg {
      width: 100%;
      height: 200px;
      margin: 1rem 0;
    }
    
    .shot-path {
      fill: none;
      stroke-width: 3;
      opacity: 0.2;
      transition: all 0.3s ease;
    }
    
    .shape1 { stroke: #8E44AD; }
    .shape2 { stroke: #3498DB; }
    .shape3 { stroke: #F1C40F; }
    .shape4 { stroke: #A0D468; }
    .shape5 { stroke: var(--gs-green); }
    .shape6 { stroke: #E67E22; }
    .shape7 { stroke: #E84393; }
    .shape8 { stroke: #D64541; }
    
    .shot-path.active {
      opacity: 1;
      stroke-width: 4;
    }
    
    .shot-slider {
      margin: 1rem 0;
    }
    
    .shot-labels {
      display: flex;
      justify-content: space-between;
      font-size: 0.875rem;
      color: #64748b;
      font-weight: 500;
    }
    
    /* Navigation */
    .survey-actions {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      padding: 1.5rem;
      border-top: 1px solid #f1f5f9;
    }
    
    .action-button {
      padding: 1rem;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      text-transform: uppercase;
      letter-spacing: 0.025em;
    }
    
    .btn-continue {
      background: var(--gs-blue);
      color: white;
    }
    
    .btn-continue:hover {
      background: #4ba3d1;
      transform: translateY(-1px);
    }
    
    .btn-back {
      background: var(--gs-grey);
      color: #475569;
    }
    
    .btn-back:hover {
      background: #e2e8f0;
    }
    
    .btn-continue:disabled {
      background: #cbd5e1;
      cursor: not-allowed;
      transform: none;
    }
    
    /* Animations */
    .fade-enter {
      opacity: 0;
      transform: translateY(20px);
    }
    
    .fade-enter-active {
      opacity: 1;
      transform: translateY(0);
      transition: all 0.3s ease;
    }
    
    /* Responsive */
    @media (max-width: 480px) {
      .survey-container {
        padding: 0.5rem;
      }
      
      .survey-body {
        padding: 1.5rem 1rem;
      }
      
      .slider-value {
        font-size: 2.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="survey-container">
    <div class="survey-card" id="survey-card">
      <!-- Survey content will be rendered here -->
    </div>
  </div>

  <script>
    // Survey data
    const surveySteps = [
      // Welcome
      { type: 'welcome', title: 'Welcome to GRIPscript', message: 'The most comprehensive and advanced grip fitting technology available to golfers.' },
      
      // Section 1 Intro
      { type: 'section', title: 'Player Profile', message: 'In this section, we\'ll learn about your player profile. This helps us understand your general golfing background.' },
      
      // Question 1: Age
      { type: 'slider', question: 'What\'s your age?', name: 'age', min: 1, max: 7, value: 2, labels: ['Under 18', '18-24', '25-34', '35-44', '45-54', '55-64', '65+'] },
      
      // Question 2: Gender
      { type: 'radio', question: 'What\'s your gender?', name: 'gender', options: ['Male', 'Female', 'Prefer not to say'] },
      
      // Question 3: Handicap
      { type: 'slider', question: 'What\'s your approx. handicap?', name: 'handicap', min: 0, max: 36, value: 14, labels: ['Professional', 'Beginner'] },
      
      // Question 4: Rounds per year
      { type: 'slider', question: 'How many times a year do you play?', name: 'rounds', min: 5, max: 85, value: 60, labels: ['Rarely', 'Consistently'] },
      
      // Section 2 Intro
      { type: 'section', title: 'Preferences & Physical Considerations', message: 'Now, tell us about any physical considerations and grip preferences. This helps us understand any physical factors that may affect your grip recommendation.' },
      
      // Question 5: Physical conditions
      { type: 'checkbox', question: 'Do you experience any of the following?', name: 'physical', options: ['Arthritis', 'Limited Hand Strength', 'Tendinitis', 'None of the above'], note: 'Select all that apply' },
      
      // Question 6: Moisture control
      { type: 'radio', question: 'Do you need enhanced moisture control?', name: 'moisture', options: ['Yes, I struggle with slippage', 'No, moisture isn\'t an issue'] },
      
      // Question 7: Grip feel
      { type: 'radio', question: 'How would you describe your current grip\'s feel?', name: 'feel', options: ['Too soft', 'Slightly soft', 'Just right', 'Slightly firm', 'Too firm'] },
      
      // Question 8: Grip size
      { type: 'radio', question: 'What size are your current grips?', name: 'gripSize', options: ['Undersize', 'Standard', 'Midsize', 'Jumbo', 'I don\'t know'] },
      
      // Question 9: Swing hand
      { type: 'radio', question: 'Which hand do you swing with?', name: 'swingHand', options: ['Left', 'Right'], horizontal: true },
      
      // Question 10: Iron shot shape
      { type: 'shotshape', question: 'What\'s your typical iron shot shape?', name: 'ironShape', default: 4 },
      
      // Question 11: Driver shot shape
      { type: 'shotshape', question: 'What\'s your typical driver shot shape?', name: 'driverShape', default: 4 },
      
      // Section 3 Intro
      { type: 'section', title: 'Goals', message: 'Lastly, tell us about your goals. Tell us what you want to improve with your new grips.' },
      
      // Question 12: Change iron shape
      { type: 'radio', question: 'Do you want to change your iron shot shape?', name: 'goalIron', options: ['Yes, I want straighter shots', 'Yes, I want to draw it more', 'Yes, I want to fade it more', 'No, I like my current shape'] },
      
      // Question 13: Change driver shape
      { type: 'radio', question: 'Do you want to change your driver shot shape?', name: 'goalDriver', options: ['Yes, I want straighter shots', 'Yes, I want to draw it more', 'Yes, I want to fade it more', 'No, I like my current shape'] },
      
      // Question 14: Improve grip goals
      { type: 'checkbox', question: 'What do you want to improve with your new grips?', name: 'improve', options: ['Better fit', 'Better club control', 'Improved feel and feedback', 'Better grip in wet conditions', 'More comfort', 'Less hand fatigue'], note: 'Select all that apply' },
      
      // Thank you
      { type: 'thankyou', title: 'Thank you for completing the GRIPscript Experience!', message: 'Your personalized grip recommendation will appear here shortly!' }
    ];

    // Survey state
    let currentStep = 0;
    let answers = {};

    // Utility functions
    function $(sel) { return document.querySelector(sel); }
    function $all(sel) { return Array.from(document.querySelectorAll(sel)); }

    // Render functions
    function renderHeader(step, stepNumber) {
      if (step.type === 'welcome' || step.type === 'thankyou') return '';
      
      const questionText = step.type === 'section' ? step.title : `Question ${stepNumber}`;
      return `
        <div class="survey-header">
          <div class="question-number">${questionText}</div>
          <div class="gripscript-logo">GRIPscript</div>
          <div class="menu-icon">☰</div>
        </div>
      `;
    }

    function renderWelcome(step) {
      return `
        <div class="survey-body">
          <div class="grip-icon">🏌️</div>
          <h1 class="question-text">${step.title}</h1>
          <p style="color: #64748b; line-height: 1.6; margin-bottom: 2rem;">${step.message}</p>
        </div>
      `;
    }

    function renderSection(step) {
      return `
        <div class="survey-body">
          <div class="section-intro">
            <h2>${step.title}</h2>
            <p>${step.message}</p>
          </div>
        </div>
      `;
    }

    function renderThankYou(step) {
      return `
        <div class="survey-body">
          <div class="grip-icon">🎉</div>
          <h1 class="question-text">${step.title}</h1>
          <p style="color: #64748b; line-height: 1.6;">${step.message}</p>
        </div>
      `;
    }

    function renderSlider(step, stepNumber) {
      const value = answers[step.name] ?? step.value;
      const displayValue = step.labels ? step.labels[value] : value;
      
      return `
        <div class="survey-body">
          <div class="grip-icon">🏌️</div>
          <h2 class="question-text">${step.question}</h2>
          <div class="slider-container">
            <div class="slider-value">${displayValue}</div>
            <input type="range" class="slider-input" min="${step.min}" max="${step.max}" value="${value}" name="${step.name}">
            <div class="slider-labels">
              <span>${step.labels[0]}</span>
              <span>${step.labels[1]}</span>
            </div>
          </div>
        </div>
      `;
    }

    function renderRadio(step, stepNumber) {
      const selected = answers[step.name];
      const optionsHtml = step.options.map(option => `
        <button class="option-button ${selected === option ? 'selected' : ''}" data-value="${option}">
          ${option}
        </button>
      `).join('');

      const containerClass = step.horizontal ? 'horizontal-options' : 'options-container';
      
      return `
        <div class="survey-body">
          <div class="grip-icon">🏌️</div>
          <h2 class="question-text">${step.question}</h2>
          ${step.note ? `<p style="color: #64748b; margin-bottom: 1rem; font-size: 0.875rem;">${step.note}</p>` : ''}
          <div class="${containerClass}">
            ${optionsHtml}
          </div>
        </div>
      `;
    }

    function renderCheckbox(step, stepNumber) {
      const selected = answers[step.name] || [];
      const optionsHtml = step.options.map(option => `
        <button class="option-button ${selected.includes(option) ? 'selected' : ''}" data-value="${option}">
          ${option}
        </button>
      `).join('');

      return `
        <div class="survey-body">
          <div class="grip-icon">🏌️</div>
          <h2 class="question-text">${step.question}</h2>
          ${step.note ? `<p style="color: #64748b; margin-bottom: 1rem; font-size: 0.875rem;">${step.note}</p>` : ''}
          <div class="options-container">
            ${optionsHtml}
          </div>
        </div>
      `;
    }

    function renderShotShape(step, stepNumber) {
      const value = (answers[step.name] ?? step.default) + 1;
      
      return `
        <div class="survey-body">
          <div class="grip-icon">🏌️</div>
          <h2 class="question-text">${step.question}</h2>
          <div class="shot-shape-container">
            <svg viewBox="0 0 400 200" class="shot-svg" id="shotSvg-${step.name}">
              <path id="shape1-${step.name}" class="shot-path shape1" d="M200,180 C180,140 160,80 140,40"/>
              <path id="shape2-${step.name}" class="shot-path shape2" d="M200,180 C185,140 170,80 155,40"/>
              <path id="shape3-${step.name}" class="shot-path shape3" d="M200,180 C195,140 190,80 185,40"/>
              <path id="shape4-${step.name}" class="shot-path shape4" d="M200,180 C210,140 230,80 250,40"/>
              <path id="shape5-${step.name}" class="shot-path shape5" d="M200,180 C200,140 200,80 200,40"/>
              <path id="shape6-${step.name}" class="shot-path shape6" d="M200,180 C215,140 230,80 245,40"/>
              <path id="shape7-${step.name}" class="shot-path shape7" d="M200,180 C225,140 250,80 275,40"/>
              <path id="shape8-${step.name}" class="shot-path shape8" d="M200,180 C240,140 280,80 320,40"/>
            </svg>
            <div class="shot-slider">
              <input type="range" class="slider-input" min="1" max="8" value="${value}" name="${step.name}">
              <div class="shot-labels">
                <span>Pull Hook</span>
                <span>Push Slice</span>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderNavigation() {
      const step = surveySteps[currentStep];
      const isLastStep = currentStep === surveySteps.length - 1;
      const canContinue = step.type === 'welcome' || step.type === 'section' || step.type === 'thankyou' || 
                         (step.type === 'slider') || 
                         (step.type === 'radio' && answers[step.name]) ||
                         (step.type === 'checkbox' && answers[step.name] && answers[step.name].length > 0) ||
                         (step.type === 'shotshape' && answers[step.name] !== undefined);

      return `
        <div class="survey-actions">
          ${currentStep > 0 ? '<button class="action-button btn-back">BACK</button>' : ''}
          <button class="action-button btn-continue" ${!canContinue ? 'disabled' : ''}>
            ${isLastStep ? 'FINISH' : 'CONTINUE'}
          </button>
        </div>
      `;
    }

    // Main render function
    function renderSurvey() {
      const step = surveySteps[currentStep];
      const stepNumber = surveySteps.slice(0, currentStep + 1).filter(s => ['slider', 'radio', 'checkbox', 'shotshape'].includes(s.type)).length;
      
      let html = '';
      html += renderHeader(step, stepNumber);
      
      if (step.type === 'welcome') html += renderWelcome(step);
      else if (step.type === 'section') html += renderSection(step);
      else if (step.type === 'thankyou') html += renderThankYou(step);
      else if (step.type === 'slider') html += renderSlider(step, stepNumber);
      else if (step.type === 'radio') html += renderRadio(step, stepNumber);
      else if (step.type === 'checkbox') html += renderCheckbox(step, stepNumber);
      else if (step.type === 'shotshape') html += renderShotShape(step, stepNumber);
      
      html += renderNavigation();
      
      $('#survey-card').innerHTML = html;
      setupEvents();
    }

    // Event handlers
    function setupEvents() {
      // Navigation
      $('.btn-continue')?.addEventListener('click', () => {
        if (currentStep < surveySteps.length - 1) {
          currentStep++;
          renderSurvey();
        }
      });
      
      $('.btn-back')?.addEventListener('click', () => {
        if (currentStep > 0) {
          currentStep--;
          renderSurvey();
        }
      });

      // Option buttons
      $all('.option-button').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const step = surveySteps[currentStep];
          const value = e.target.dataset.value;
          
          if (step.type === 'radio') {
            answers[step.name] = value;
            $all('.option-button').forEach(b => b.classList.remove('selected'));
            e.target.classList.add('selected');
          } else if (step.type === 'checkbox') {
            if (!answers[step.name]) answers[step.name] = [];
            const index = answers[step.name].indexOf(value);
            if (index > -1) {
              answers[step.name].splice(index, 1);
              e.target.classList.remove('selected');
            } else {
              answers[step.name].push(value);
              e.target.classList.add('selected');
            }
          }
          
          renderSurvey();
        });
      });

      // Sliders
      $all('.slider-input').forEach(slider => {
        slider.addEventListener('input', (e) => {
          const step = surveySteps[currentStep];
          if (step.type === 'shotshape') {
            answers[step.name] = parseInt(e.target.value) - 1;
            updateShotShape(step.name, parseInt(e.target.value));
          } else {
            answers[step.name] = parseInt(e.target.value);
          }
          renderSurvey();
        });
      });

      // Initialize shot shape if present
      const step = surveySteps[currentStep];
      if (step.type === 'shotshape') {
        const slider = $(`input[name="${step.name}"]`);
        if (slider) {
          updateShotShape(step.name, parseInt(slider.value));
        }
      }
    }

    function updateShotShape(stepName, value) {
      const paths = $all(`#shotSvg-${stepName} .shot-path`);
      const idx = Number(value) - 1;
      paths.forEach((p, i) => p.classList.toggle('active', i === idx));
    }

    // Initialize
    renderSurvey();
  </script>
</body>
</html> 