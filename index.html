<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    <title>SmartFIT Golf Grip Survey</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            max-height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            touch-action: manipulation;
        }

        .survey-container {
            width: 100%;
            max-width: 500px;
            height: 100vh;
            height: 100dvh; /* Dynamic viewport height for mobile */
            margin: 0 auto;
            padding: 0;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: env(safe-area-inset-top);
        }

        .survey-card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 20px;
            height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 20px);
            height: calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 20px);
            max-height: 600px;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            width: 100%;
            max-width: 100%;
            margin: 10px;
        }

        /* Header */
        .survey-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-shrink: 0;
            min-height: 44px; /* iOS minimum touch target */
            padding-top: 0;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.25rem;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .logo span:nth-child(1) {
            color: #1a1a1a;
        }

        .logo span:nth-child(2) {
            color: #1a1a1a;
        }

        .logo span:nth-child(3) {
            color: #4fd1c5;
        }

        .menu-icon {
            font-size: 1.25rem;
            color: #cbd5e0;
            cursor: pointer;
            min-width: 44px;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Progress indicator */
        .progress-dots {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-bottom: 20px;
            flex-shrink: 0;
        }

        .progress-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #e2e8f0;
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background-color: #4fd1c5;
            width: 20px;
            border-radius: 3px;
        }

        /* Question styling */
        .question-number {
            color: #4fd1c5;
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 15px;
            line-height: 1;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2d3748;
            text-align: center;
            margin-bottom: 25px;
            line-height: 1.3;
        }

        .section-intro {
            background-color: #e6fffa;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .section-intro h2 {
            color: #4fd1c5;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .section-intro p {
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Welcome page specific styles */
        .welcome-page {
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            height: 100%;
        }

        .welcome-content h1 {
            font-size: 2.25rem;
            font-weight: 600;
            color: #4fd1c5;
            margin-bottom: 20px;
            line-height: 1.2;
            max-width: 400px;
        }

        .welcome-content p {
            font-size: 1.125rem;
            color: #2d3748;
            margin-bottom: 30px;
            line-height: 1.5;
            max-width: 400px;
            font-weight: 400;
        }

        .begin-button {
            background-color: #60a5fa;
            color: white;
            padding: 15px 50px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            box-shadow: 0 4px 15px rgba(96, 165, 250, 0.3);
            min-height: 44px;
            touch-action: manipulation;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        .begin-button:hover {
            background-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(96, 165, 250, 0.4);
        }

        .begin-button:active {
            transform: translateY(0);
        }

        /* Golf graphic */
        .golf-graphic {
            position: absolute;
            right: -80px;
            bottom: -40px;
            width: 300px;
            height: 300px;
            opacity: 0.3;
            z-index: 0;
            pointer-events: none;
        }

        .golf-graphic svg {
            width: 100%;
            height: 100%;
        }

        /* Options */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
            flex-grow: 1;
            justify-content: center;
        }

        .option-button {
            background-color: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 12px 20px;
            font-size: 0.95rem;
            font-weight: 500;
            color: #4a5568;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            touch-action: manipulation;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            user-select: none;
        }

        .option-button:hover {
            border-color: #4fd1c5;
            background-color: #f0fdfa;
        }

        .option-button.selected {
            background-color: #4fd1c5;
            border-color: #4fd1c5;
            color: white;
        }

        .option-button:active {
            transform: scale(0.98);
        }

        input[type="radio"],
        input[type="checkbox"] {
            display: none;
        }

        /* Sliders */
        .slider-container {
            margin: 20px 0;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .slider-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #4fd1c5;
            text-align: center;
            margin-bottom: 15px;
        }

        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            outline: none;
            margin: 15px 0;
            touch-action: manipulation;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            background: #4fd1c5;
            border-radius: 50%;
            cursor: pointer;
            border: 4px solid white;
            box-shadow: 0 2px 8px rgba(79, 209, 197, 0.5);
            min-width: 24px;
            min-height: 24px;
        }

        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: #4fd1c5;
            border-radius: 50%;
            cursor: pointer;
            border: 4px solid white;
            box-shadow: 0 2px 8px rgba(79, 209, 197, 0.5);
            min-width: 24px;
            min-height: 24px;
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #718096;
            margin-top: 8px;
        }

        /* Text input */
        input[type="text"] {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            color: #2d3748;
            background-color: #ffffff;
            transition: all 0.2s ease;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            min-height: 44px;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #4fd1c5;
            background-color: #f0fdfa;
        }

        input[type="text"]::placeholder {
            color: #a0aec0;
        }

        /* Navigation buttons */
        .nav-container {
            display: flex;
            justify-content: space-between;
            margin-top: auto;
            padding-top: 15px;
            gap: 10px;
            flex-shrink: 0;
        }

        .nav-button {
            flex: 1;
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            touch-action: manipulation;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            user-select: none;
        }

        .nav-button.primary {
            background-color: #60a5fa;
            color: white;
        }

        .nav-button.primary:hover {
            background-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(96, 165, 250, 0.4);
        }

        .nav-button.primary:active {
            transform: translateY(0);
        }

        .nav-button.secondary {
            background-color: #e2e8f0;
            color: #4a5568;
        }

        .nav-button.secondary:hover {
            background-color: #cbd5e0;
        }

        .nav-button.secondary:active {
            transform: scale(0.98);
        }

        .nav-button:disabled {
            background-color: #e2e8f0;
            color: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }

        /* Shot diagram */
        .shot-diagram-container {
            position: relative;
            width: 100%;
            max-width: 350px;
            height: 200px;
            margin: 30px auto;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            overflow: hidden;
            background-color: #f7fafc;
        }

        .shot-diagram-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            border-radius: 16px;
            cursor: pointer;
            transition: opacity 0.3s ease;
            z-index: 10;
        }

        .shot-diagram-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Hand diagram */
        .hand-diagram {
            width: 150px;
            height: 150px;
            margin: 15px auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hand-diagram svg {
            width: 100%;
            height: 100%;
        }

        /* Survey pages */
        .survey-page {
            display: none;
            flex-direction: column;
            flex-grow: 1;
            animation: fadeIn 0.4s ease-out;
            height: 100%;
            overflow: hidden;
        }

        .survey-page.active {
            display: flex;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Success message */
        .success-message {
            background-color: #e6fffa;
            color: #2c7a7b;
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 600;
            display: none;
            margin-top: 20px;
        }

        /* Responsive */
        @media (max-width: 640px) {
            .survey-container {
                padding: 0;
                padding-top: env(safe-area-inset-top);
                align-items: flex-start;
            }
            
            .survey-card {
                padding: 15px;
                height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 20px);
                height: calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 20px);
                border-radius: 20px;
                margin: 10px;
            }

            .question-text {
                font-size: 1.1rem;
                margin-bottom: 20px;
            }

            .question-number {
                font-size: 2rem;
                margin-bottom: 10px;
            }

            .slider-value {
                font-size: 2rem;
            }

            .welcome-content h1 {
                font-size: 1.75rem;
            }

            .welcome-content p {
                font-size: 1rem;
            }

            .begin-button {
                padding: 12px 40px;
                font-size: 0.95rem;
            }

            .options-container {
                gap: 6px;
            }

            .option-button {
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .nav-button {
                padding: 10px 16px;
                font-size: 0.9rem;
            }
        }

        @media (max-height: 600px) {
            .survey-card {
                max-height: calc(95vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
                max-height: calc(95dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
            }
            
            .question-number {
                font-size: 2rem;
                margin-bottom: 10px;
            }
            
            .question-text {
                font-size: 1.1rem;
                margin-bottom: 15px;
            }
            
            .slider-value {
                font-size: 2rem;
                margin-bottom: 10px;
            }
            
            .welcome-content h1 {
                font-size: 1.75rem;
                margin-bottom: 15px;
            }
            
            .welcome-content p {
                font-size: 1rem;
                margin-bottom: 20px;
            }
            
            .begin-button {
                padding: 12px 40px;
            }
        }

        /* iPhone specific fixes */
        @supports (-webkit-touch-callout: none) {
            .survey-container {
                height: 100vh;
                height: 100dvh;
                padding-top: env(safe-area-inset-top);
                align-items: flex-start;
            }
            
            .survey-card {
                height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 20px);
                height: calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 20px);
                margin: 10px;
            }
            
            input[type="range"] {
                -webkit-appearance: none;
            }
            
            .option-button,
            .nav-button,
            .begin-button {
                -webkit-tap-highlight-color: transparent;
            }
        }

        /* Prevent zoom on input focus */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {
            input[type="text"] {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="survey-container">
        <div class="survey-card">
            <div class="survey-header">
                <div class="logo">
                    <span>GR</span><span>I</span><span>P</span><span>script</span>
                </div>
                <i class="fas fa-bars menu-icon"></i>
            </div>

            <div class="progress-dots" id="progress-dots">
                <!-- Dots will be generated dynamically -->
            </div>

            <div id="survey-pages">
                <!-- Welcome Page -->
                <div class="survey-page active welcome-page" data-page="0">
                    <div class="golf-graphic">
                        <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                            <g opacity="0.8">
                                <!-- Golf ball path -->
                                <path d="M 50 350 Q 200 100 350 200" stroke="#4fd1c5" stroke-width="40" fill="none" stroke-linecap="round" opacity="0.4"/>
                                <circle cx="350" cy="200" r="30" fill="#4fd1c5" opacity="0.6"/>
                                
                                <!-- Additional decorative elements -->
                                <circle cx="150" cy="250" r="60" fill="#4fd1c5" opacity="0.2"/>
                                <circle cx="280" cy="320" r="80" fill="#4fd1c5" opacity="0.15"/>
                            </g>
                        </svg>
                    </div>
                    <div class="welcome-content" style="position: relative; z-index: 1;">
                        <h1>Welcome to the SmartFIT™ Experience</h1>
                        <p>The most comprehensive and advanced grip fitting technology available to golfers.</p>
                        <button class="begin-button" id="begin-button">BEGIN</button>
                    </div>
                </div>

                <!-- Section 1 Intro -->
                <div class="survey-page" data-page="1">
                    <div class="section-intro">
                        <h2>Player Profile</h2>
                        <p>In this section, we'll learn about your player profile. This helps us understand your general golfing background.</p>
                    </div>
                    <div class="nav-container">
                        <button class="nav-button primary" id="section1-continue">Continue</button>
                    </div>
                </div>

                <!-- Question 1: Age -->
                <div class="survey-page" data-page="2">
                    <div class="question-number">1</div>
                    <h2 class="question-text">What's your age?</h2>
                    <div class="options-container">
                        <input type="radio" id="age-under18" name="age" value="Under 18">
                        <label for="age-under18" class="option-button">Under 18</label>
                        
                        <input type="radio" id="age-18-24" name="age" value="18-24">
                        <label for="age-18-24" class="option-button">18-24</label>
                        
                        <input type="radio" id="age-25-34" name="age" value="25-34">
                        <label for="age-25-34" class="option-button">25-34</label>
                        
                        <input type="radio" id="age-35-44" name="age" value="35-44">
                        <label for="age-35-44" class="option-button">35-44</label>
                        
                        <input type="radio" id="age-45-54" name="age" value="45-54">
                        <label for="age-45-54" class="option-button">45-54</label>
                        
                        <input type="radio" id="age-55-64" name="age" value="55-64">
                        <label for="age-55-64" class="option-button">55-64</label>
                        
                        <input type="radio" id="age-65plus" name="age" value="65+">
                        <label for="age-65plus" class="option-button">65+</label>
                    </div>
                </div>

                <!-- Question 2: Gender -->
                <div class="survey-page" data-page="3">
                    <div class="question-number">2</div>
                    <h2 class="question-text">What's your gender?</h2>
                    <div class="options-container">
                        <input type="radio" id="gender-male" name="gender" value="Male">
                        <label for="gender-male" class="option-button">Male</label>
                        
                        <input type="radio" id="gender-female" name="gender" value="Female">
                        <label for="gender-female" class="option-button">Female</label>
                        
                        <input type="radio" id="gender-prefer-not" name="gender" value="Prefer not to say">
                        <label for="gender-prefer-not" class="option-button">Prefer not to say</label>
                    </div>
                </div>

                <!-- Question 3: Handicap -->
                <div class="survey-page" data-page="4">
                    <div class="question-number">3</div>
                    <h2 class="question-text">What's your approx. handicap?</h2>
                    <div class="slider-container">
                        <div class="slider-value" id="handicap-value">14</div>
                        <input type="range" id="handicap-slider" name="handicap" min="0" max="36" value="14">
                        <div class="slider-labels">
                            <span>Professional</span>
                            <span>Beginner</span>
                        </div>
                    </div>
                </div>

                <!-- Question 4: Rounds per year -->
                <div class="survey-page" data-page="5">
                    <div class="question-number">4</div>
                    <h2 class="question-text">How many times a year do you play?</h2>
                    <div class="slider-container">
                        <div class="slider-value" id="rounds-value">60</div>
                        <input type="range" id="rounds-slider" name="rounds-per-year" min="5" max="100" value="60" step="5">
                        <div class="slider-labels">
                            <span>Rarely</span>
                            <span>Frequently</span>
                        </div>
                    </div>
                </div>

                <!-- Section 2 Intro -->
                <div class="survey-page" data-page="6">
                    <div class="section-intro">
                        <h2>Preferences & Physical Considerations</h2>
                        <p>Now, tell us about any physical considerations and grip preferences. This helps us understand any physical factors that may affect your grip recommendation.</p>
                    </div>
                    <div class="nav-container">
                        <button class="nav-button primary" id="section2-continue">Continue</button>
                    </div>
                </div>

                <!-- Question 5: Physical conditions -->
                <div class="survey-page" data-page="7">
                    <div class="question-number">5</div>
                    <h2 class="question-text">Do you experience any of the following?</h2>
                    <div class="options-container">
                        <input type="checkbox" id="condition-arthritis" name="physical-condition" value="Arthritis">
                        <label for="condition-arthritis" class="option-button">Arthritis</label>
                        
                        <input type="checkbox" id="condition-limited" name="physical-condition" value="Limited Hand Strength">
                        <label for="condition-limited" class="option-button">Limited Hand Strength</label>
                        
                        <input type="checkbox" id="condition-tendinitis" name="physical-condition" value="Tendinitis">
                        <label for="condition-tendinitis" class="option-button">Tendinitis</label>
                        
                        <input type="checkbox" id="condition-none" name="physical-condition" value="None of the above">
                        <label for="condition-none" class="option-button">None of the above</label>
                    </div>
                </div>

                <!-- Question 6: Moisture control -->
                <div class="survey-page" data-page="8">
                    <div class="question-number">6</div>
                    <h2 class="question-text">Do you need enhanced moisture control?</h2>
                    <div class="options-container">
                        <input type="radio" id="moisture-yes" name="moisture-control" value="Yes, I struggle with slippage">
                        <label for="moisture-yes" class="option-button">Yes, I struggle with slippage</label>
                        
                        <input type="radio" id="moisture-no" name="moisture-control" value="No, moisture isn't an issue">
                        <label for="moisture-no" class="option-button">No, moisture isn't an issue</label>
                    </div>
                </div>

                <!-- Question 7: Grip feel -->
                <div class="survey-page" data-page="9">
                    <div class="question-number">7</div>
                    <h2 class="question-text">How would you describe your current grip's feel?</h2>
                    <div class="options-container">
                        <input type="radio" id="feel-too-soft" name="grip-feel" value="Too soft">
                        <label for="feel-too-soft" class="option-button">Too soft</label>
                        
                        <input type="radio" id="feel-slightly-soft" name="grip-feel" value="Slightly soft">
                        <label for="feel-slightly-soft" class="option-button">Slightly soft</label>
                        
                        <input type="radio" id="feel-just-right" name="grip-feel" value="Just right">
                        <label for="feel-just-right" class="option-button">Just right</label>
                        
                        <input type="radio" id="feel-slightly-firm" name="grip-feel" value="Slightly firm">
                        <label for="feel-slightly-firm" class="option-button">Slightly firm</label>
                        
                        <input type="radio" id="feel-too-firm" name="grip-feel" value="Too firm">
                        <label for="feel-too-firm" class="option-button">Too firm</label>
                    </div>
                </div>

                <!-- Question 8: Current grip size -->
                <div class="survey-page" data-page="10">
                    <div class="question-number">8</div>
                    <h2 class="question-text">What size are your current grips?</h2>
                    <div class="options-container">
                        <input type="radio" id="size-undersize" name="grip-size" value="Undersize">
                        <label for="size-undersize" class="option-button">Undersize</label>
                        
                        <input type="radio" id="size-standard" name="grip-size" value="Standard">
                        <label for="size-standard" class="option-button">Standard</label>
                        
                        <input type="radio" id="size-midsize" name="grip-size" value="Midsize">
                        <label for="size-midsize" class="option-button">Midsize</label>
                        
                        <input type="radio" id="size-jumbo" name="grip-size" value="Jumbo">
                        <label for="size-jumbo" class="option-button">Jumbo</label>
                        
                        <input type="radio" id="size-dont-know" name="grip-size" value="I don't know">
                        <label for="size-dont-know" class="option-button">I don't know</label>
                    </div>
                </div>

                <!-- Question 9: Swing hand -->
                <div class="survey-page" data-page="11">
                    <div class="question-number">9</div>
                    <h2 class="question-text">Which hand do you swing with?</h2>
                    <div class="options-container" style="flex-direction: row; max-width: 300px; margin: 0 auto;">
                        <input type="radio" id="swing-left" name="swing-hand" value="Left">
                        <label for="swing-left" class="option-button" style="flex: 1;">Left</label>
                        
                        <input type="radio" id="swing-right" name="swing-hand" value="Right" checked>
                        <label for="swing-right" class="option-button" style="flex: 1;">Right</label>
                    </div>
                </div>

                <!-- Question 10: Iron shot shape -->
                <div class="survey-page" data-page="12">
                    <div class="question-number">10</div>
                    <h2 class="question-text">What's your typical iron shot shape?</h2>
                    <div class="hand-diagram">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <!-- Simplified hand and club illustration -->
                            <g id="hand-illustration">
                                <!-- Club shaft -->
                                <line x1="100" y1="20" x2="100" y2="180" stroke="#718096" stroke-width="4" stroke-linecap="round"/>
                                
                                <!-- Hands -->
                                <ellipse cx="100" cy="100" rx="25" ry="35" fill="#fbbf24" opacity="0.8"/>
                                <ellipse cx="100" cy="120" rx="25" ry="35" fill="#f59e0b" opacity="0.8"/>
                                
                                <!-- Ball path indicator -->
                                <path id="shot-path" d="M 100 180 Q 100 150 100 120" stroke="#4fd1c5" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
                            </g>
                        </svg>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="iron-shot-slider" name="iron-shot-shape" min="0" max="6" value="3" step="1">
                        <div class="slider-labels">
                            <span>Pull Hook</span>
                            <span>Push Slice</span>
                        </div>
                    </div>
                </div>

                <!-- Completion Page -->
                <div class="survey-page" data-page="13">
                    <div class="welcome-content">
                        <div class="question-number" style="color: #4fd1c5;">✓</div>
                        <h1>Survey Complete!</h1>
                        <p>Thank you for completing the SmartFIT grip assessment. Your personalized grip recommendations are being prepared.</p>
                        <div class="success-message" id="success-message" style="display: block;">
                            Your responses have been saved successfully!
                        </div>
                    </div>
                </div>
            </div>

            <div class="nav-container" id="nav-container">
                <button class="nav-button secondary" id="back-button">Back</button>
                <button class="nav-button primary" id="continue-button">Continue</button>
            </div>
        </div>
    </div>

    <script>
        // Survey state
        let currentPage = 0;
        const totalPages = 14; // Including welcome and completion
        const surveyData = {};

        // DOM elements
        const pages = document.querySelectorAll('.survey-page');
        const backButton = document.getElementById('back-button');
        const continueButton = document.getElementById('continue-button');
        const navContainer = document.getElementById('nav-container');
        const progressDots = document.getElementById('progress-dots');

        // Initialize progress dots
        function initProgressDots() {
            progressDots.innerHTML = '';
            for (let i = 0; i < totalPages - 2; i++) { // Exclude welcome and completion
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                progressDots.appendChild(dot);
            }
        }

        // Update progress dots
        function updateProgressDots() {
            const dots = progressDots.querySelectorAll('.progress-dot');
            dots.forEach((dot, index) => {
                if (index === currentPage - 1) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // Show page
        function showPage(pageIndex) {
            pages.forEach((page, index) => {
                if (index === pageIndex) {
                    page.classList.add('active');
                } else {
                    page.classList.remove('active');
                }
            });

            // Update navigation visibility
            if (pageIndex === 0) {
                // Welcome page
                navContainer.style.display = 'none';
                progressDots.style.display = 'none';
            } else if (pageIndex === totalPages - 1) {
                // Completion page
                navContainer.style.display = 'none';
                progressDots.style.display = 'none';
            } else if (pageIndex === 1 || pageIndex === 6) {
                // Section intro pages
                navContainer.style.display = 'none';
                progressDots.style.display = 'flex';
            } else {
                // Regular question pages
                navContainer.style.display = 'flex';
                progressDots.style.display = 'flex';
                backButton.style.display = pageIndex > 1 ? 'block' : 'none';
            }

            updateProgressDots();
            updateContinueButton();
        }

        // Check if current page is valid
        function isPageValid() {
            const currentPageEl = pages[currentPage];
            const inputs = currentPageEl.querySelectorAll('input[type="radio"], input[type="checkbox"]');
            
            if (inputs.length > 0) {
                return Array.from(inputs).some(input => input.checked);
            }
            
            return true; // Pages without inputs are always valid
        }

        // Update continue button state
        function updateContinueButton() {
            if (currentPage === totalPages - 2) {
                continueButton.textContent = 'Submit';
            } else {
                continueButton.textContent = 'Continue';
            }
            
            continueButton.disabled = !isPageValid();
        }

        // Handle option selection
        function handleOptionSelection(e) {
            if (e.target.classList.contains('option-button')) {
                const input = e.target.previousElementSibling;
                if (input && (input.type === 'radio' || input.type === 'checkbox')) {
                    input.checked = !input.checked;
                    
                    // Update visual state
                    if (input.type === 'radio') {
                        const allOptions = input.closest('.options-container').querySelectorAll('.option-button');
                        allOptions.forEach(opt => opt.classList.remove('selected'));
                        if (input.checked) {
                            e.target.classList.add('selected');
                        }
                    } else {
                        e.target.classList.toggle('selected', input.checked);
                    }
                    
                    // Handle "None of the above" logic
                    if (input.name === 'physical-condition') {
                        if (input.id === 'condition-none' && input.checked) {
                            const otherCheckboxes = document.querySelectorAll('input[name="physical-condition"]:not(#condition-none)');
                            otherCheckboxes.forEach(cb => {
                                cb.checked = false;
                                cb.nextElementSibling.classList.remove('selected');
                            });
                        } else if (input.id !== 'condition-none' && input.checked) {
                            document.getElementById('condition-none').checked = false;
                            document.getElementById('condition-none').nextElementSibling.classList.remove('selected');
                        }
                    }
                    updateContinueButton();
                }
            }
        }

        // Handle slider updates
        function handleSliderUpdate(e) {
            if (e.target.id === 'handicap-slider') {
                document.getElementById('handicap-value').textContent = e.target.value;
            }
            if (e.target.id === 'rounds-slider') {
                const val = parseInt(e.target.value, 10);
                document.getElementById('rounds-value').textContent = val >= 85 ? '85+' : val;
            }
        }

        // Navigation
        function goToNextPage() {
            if (currentPage < totalPages - 1) {
                currentPage++;
                showPage(currentPage);
            }
        }

        function goToPrevPage() {
            if (currentPage > 1) {
                currentPage--;
                showPage(currentPage);
            }
        }

        // Event listeners
        document.getElementById('begin-button').addEventListener('click', () => {
            currentPage = 1;
            showPage(currentPage);
        });
        document.getElementById('section1-continue').addEventListener('click', () => {
            currentPage = 2;
            showPage(currentPage);
        });
        document.getElementById('section2-continue').addEventListener('click', () => {
            currentPage = 7;
            showPage(currentPage);
        });
        backButton.addEventListener('click', goToPrevPage);
        continueButton.addEventListener('click', goToNextPage);
        document.getElementById('survey-pages').addEventListener('click', handleOptionSelection);
        document.getElementById('survey-pages').addEventListener('input', handleSliderUpdate);

        // Initial setup
        initProgressDots();
        showPage(currentPage);
    </script>
</body>
</html> 