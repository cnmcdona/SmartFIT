<!-- Trigger redeploy: cache bust -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    <title>SmartFIT Golf Grip Survey</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        html, body {
            height: 100%;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            width: 100vw;
            overflow: hidden;
            background: linear-gradient(180deg, #23272F 0%, #181A20 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }

        /* Remove card and container backgrounds */
        .survey-container, .survey-card {
            background: none !important;
            box-shadow: none !important;
            border-radius: 0 !important;
            padding: 0 !important;
            margin: 0 auto !important;
            width: 100vw !important;
            max-width: 100vw !important;
            height: 100vh !important;
            min-height: 100vh !important;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }

        /* Progress Bar */
        .progress-bar-container {
            width: 100vw;
            max-width: 100vw;
            padding: 0 0 24px 0;
            margin-top: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .progress-label {
            color: #fff;
            font-size: 0.95rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            margin-bottom: 8px;
        }
        .progress-bar {
            width: 180px;
            height: 4px;
            background: #353945;
            border-radius: 2px;
            overflow: hidden;
            margin: 0 auto;
        }
        .progress-bar-inner {
            height: 100%;
            background: #fff;
            border-radius: 2px;
            transition: width 0.3s cubic-bezier(0.4,0,0.2,1);
        }

        /* Icon */
        .question-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px auto;
        }
        .question-icon svg {
            width: 48px;
            height: 48px;
            display: block;
        }

        /* Question Typography */
        .question-text {
            color: #fff;
            font-size: 2rem;
            font-weight: 800;
            text-align: center;
            margin-bottom: 12px;
            margin-top: 0;
            letter-spacing: -0.01em;
        }
        .question-subtext {
            color: #b0b4be;
            font-size: 1.05rem;
            font-weight: 400;
            text-align: center;
            margin-bottom: 32px;
            margin-top: 0;
        }

        /* Slider Question Styles */
        .slider-question {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100vw;
            max-width: 100vw;
            margin-bottom: 32px;
        }
        .slider-value {
            color: #fff;
            font-size: 3rem;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
        }
        .slider-sub {
            color: #b0b4be;
            font-size: 1rem;
            text-align: center;
            margin-bottom: 24px;
        }
        .slider-container {
            width: 90vw;
            max-width: 340px;
            margin: 0 auto 8px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 6px;
            background: #353945;
            border-radius: 3px;
            outline: none;
            margin: 0 0 8px 0;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 32px;
            height: 32px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.12);
            border: 4px solid #4fd1c5;
            cursor: pointer;
            transition: background 0.2s;
        }
        input[type="range"]::-moz-range-thumb {
            width: 32px;
            height: 32px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.12);
            border: 4px solid #4fd1c5;
            cursor: pointer;
            transition: background 0.2s;
        }
        input[type="range"]::-ms-thumb {
            width: 32px;
            height: 32px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.12);
            border: 4px solid #4fd1c5;
            cursor: pointer;
            transition: background 0.2s;
        }
        input[type="range"]:focus {
            outline: none;
        }
        .slider-labels {
            display: flex;
            justify-content: space-between;
            width: 100%;
            font-size: 1rem;
            color: #b0b4be;
            margin-top: 0;
        }
        .slider-labels span {
            flex: 1;
            text-align: center;
        }

        /* Next Button */
        .nav-container {
            width: 100vw;
            max-width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: auto;
            margin-bottom: 32px;
            padding: 0 0 0 0;
        }
        .nav-button.primary {
            background: #3ecf4c;
            color: #fff;
            font-size: 1.25rem;
            font-weight: 700;
            border-radius: 12px;
            border: none;
            width: 90vw;
            max-width: 340px;
            padding: 18px 0;
            box-shadow: 0 4px 24px rgba(62, 207, 76, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: background 0.2s, box-shadow 0.2s;
        }
        .nav-button.primary:disabled {
            background: #353945;
            color: #b0b4be;
            cursor: not-allowed;
        }
        .nav-button.primary:hover:not(:disabled) {
            background: #2ebf3c;
            box-shadow: 0 6px 32px rgba(62, 207, 76, 0.22);
        }
        .nav-button .fa-arrow-right {
            font-size: 1.2em;
        }

        /* Remove old card, header, and dot styles */
        .survey-header, .progress-dots, .question-number, .survey-card {
            display: none !important;
        }

        /* Responsive tweaks */
        @media (max-width: 480px) {
            .question-text {
                font-size: 1.3rem;
            }
            .slider-value {
                font-size: 2.2rem;
            }
            .nav-button.primary {
                font-size: 1.1rem;
                padding: 14px 0;
            }
        }
    </style>
</head>
<body>
    <div class="survey-container">
        <div class="survey-card">
            <!-- Progress Bar (visible on all but welcome/completion) -->
            <div class="progress-bar-container" id="progress-bar-container" style="display: none;">
                <div class="progress-label" id="progress-label">PERSONALIZE: <span id="progress-step">1</span> of 6</div>
                <div class="progress-bar">
                    <div class="progress-bar-inner" id="progress-bar-inner" style="width: 0%"></div>
                </div>
            </div>

            <div id="survey-pages">
                <!-- Welcome Page -->
                <div class="survey-page active welcome-page" data-page="0">
                    <div class="golf-graphic">
                        <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                            <g opacity="0.8">
                                <!-- Golf ball path -->
                                <path d="M 50 350 Q 200 100 350 200" stroke="#4fd1c5" stroke-width="40" fill="none" stroke-linecap="round" opacity="0.4"/>
                                <circle cx="350" cy="200" r="30" fill="#4fd1c5" opacity="0.6"/>
                                
                                <!-- Additional decorative elements -->
                                <circle cx="150" cy="250" r="60" fill="#4fd1c5" opacity="0.2"/>
                                <circle cx="280" cy="320" r="80" fill="#4fd1c5" opacity="0.15"/>
                            </g>
                        </svg>
                    </div>
                    <div class="welcome-content" style="position: relative; z-index: 1;">
                        <h1>Welcome to the SmartFITâ„¢ Experience</h1>
                        <p>The most comprehensive and advanced grip fitting technology available to golfers.</p>
                        <button class="begin-button" id="begin-button">BEGIN</button>
                    </div>
                </div>

                <!-- Section 1 Intro (restyled) -->
                <div class="survey-page" data-page="1">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">Player Profile</div>
                    <div class="question-subtext">In this section, we'll learn about your player profile. This helps us understand your general golfing background.</div>
                    <div class="nav-container">
                        <button class="nav-button primary" id="section1-continue">Continue <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <!-- Question 1: Age (restyled, slot machine placeholder) -->
                <div class="survey-page" data-page="2">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">What's your age?</div>
                    <div class="question-subtext">Select your age group to help us personalize your experience.</div>
                    <div class="slot-machine-container">
                        <div class="slot-machine">
                            <div class="slot-window">
                                <div class="slot-options" id="age-options">
                                    <div class="slot-option" data-value="Under 18">Under 18</div>
                                    <div class="slot-option" data-value="18-24">18-24</div>
                                    <div class="slot-option" data-value="25-34">25-34</div>
                                    <div class="slot-option" data-value="35-44">35-44</div>
                                    <div class="slot-option" data-value="45-54">45-54</div>
                                    <div class="slot-option" data-value="55-64">55-64</div>
                                    <div class="slot-option" data-value="65+">65+</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 2: Gender (restyled) -->
                <div class="survey-page" data-page="3">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">What's your gender?</div>
                    <div class="question-subtext">This helps us tailor your recommendations.</div>
                    <div class="options-container" style="flex-direction: row; justify-content: center; gap: 18px;">
                        <input type="radio" id="gender-male" name="gender" value="Male">
                        <label for="gender-male" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.3rem; padding: 18px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Male</label>
                        <input type="radio" id="gender-female" name="gender" value="Female">
                        <label for="gender-female" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.3rem; padding: 18px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Female</label>
                        <input type="radio" id="gender-prefer-not" name="gender" value="Prefer not to say">
                        <label for="gender-prefer-not" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.3rem; padding: 18px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Prefer not to say</label>
                    </div>
                </div>

                <!-- Question 3: Handicap (PREVIEW - NEW STYLE) -->
                <div class="survey-page" data-page="4">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">What's your approx. handicap?</div>
                    <div class="question-subtext">Let us know how you're currently playing so we can help set attainable targets for you.</div>
                    <div class="slider-question">
                        <div class="slider-value" id="handicap-value">14</div>
                        <div class="slider-sub" id="handicap-sub">Avg. Score of 77</div>
                        <div class="slider-container">
                            <input type="range" id="handicap-slider" name="handicap" min="0" max="36" value="14">
                            <div class="slider-labels">
                                <span>Tour Pro</span>
                                <span>Beginner</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 4: Rounds per year (PREVIEW - NEW STYLE) -->
                <div class="survey-page" data-page="5">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">How many times a year do you play?</div>
                    <div class="question-subtext">We will make sure your target is reasonable based on how frequently you play.</div>
                    <div class="slider-question">
                        <div class="slider-value" id="rounds-value">60</div>
                        <div class="slider-container">
                            <input type="range" id="rounds-slider" name="rounds-per-year" min="5" max="100" value="60" step="5">
                            <div class="slider-labels">
                                <span>Rarely</span>
                                <span>Constantly</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 2 Intro (restyled) -->
                <div class="survey-page" data-page="6">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">Preferences & Physical Considerations</div>
                    <div class="question-subtext">Now, tell us about any physical considerations and grip preferences. This helps us understand any physical factors that may affect your grip recommendation.</div>
                    <div class="nav-container">
                        <button class="nav-button primary" id="section2-continue">Continue <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>

                <!-- Question 5: Physical conditions (restyled) -->
                <div class="survey-page" data-page="7">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">Do you experience any of the following?</div>
                    <div class="question-subtext">Select all that apply.</div>
                    <div class="options-container" style="flex-direction: column; align-items: center; gap: 18px;">
                        <input type="checkbox" id="condition-arthritis" name="physical-condition" value="Arthritis">
                        <label for="condition-arthritis" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Arthritis</label>
                        <input type="checkbox" id="condition-limited" name="physical-condition" value="Limited Hand Strength">
                        <label for="condition-limited" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Limited Hand Strength</label>
                        <input type="checkbox" id="condition-tendinitis" name="physical-condition" value="Tendinitis">
                        <label for="condition-tendinitis" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Tendinitis</label>
                        <input type="checkbox" id="condition-none" name="physical-condition" value="None of the above">
                        <label for="condition-none" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">None of the above</label>
                    </div>
                </div>

                <!-- Question 6: Moisture control (restyled) -->
                <div class="survey-page" data-page="8">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">Do you need enhanced moisture control?</div>
                    <div class="question-subtext">Let us know if you struggle with grip slippage.</div>
                    <div class="options-container" style="flex-direction: row; justify-content: center; gap: 18px;">
                        <input type="radio" id="moisture-yes" name="moisture-control" value="Yes, I struggle with slippage">
                        <label for="moisture-yes" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Yes, I struggle with slippage</label>
                        <input type="radio" id="moisture-no" name="moisture-control" value="No, moisture isn't an issue">
                        <label for="moisture-no" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">No, moisture isn't an issue</label>
                    </div>
                </div>

                <!-- Question 7: Grip feel (restyled) -->
                <div class="survey-page" data-page="9">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">How would you describe your current grip's feel?</div>
                    <div class="question-subtext">Select the option that best matches your current grip.</div>
                    <div class="options-container" style="flex-direction: column; align-items: center; gap: 18px;">
                        <input type="radio" id="feel-too-soft" name="grip-feel" value="Too soft">
                        <label for="feel-too-soft" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Too soft</label>
                        <input type="radio" id="feel-slightly-soft" name="grip-feel" value="Slightly soft">
                        <label for="feel-slightly-soft" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Slightly soft</label>
                        <input type="radio" id="feel-just-right" name="grip-feel" value="Just right">
                        <label for="feel-just-right" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Just right</label>
                        <input type="radio" id="feel-slightly-firm" name="grip-feel" value="Slightly firm">
                        <label for="feel-slightly-firm" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Slightly firm</label>
                        <input type="radio" id="feel-too-firm" name="grip-feel" value="Too firm">
                        <label for="feel-too-firm" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Too firm</label>
                    </div>
                </div>

                <!-- Question 8: Current grip size (restyled) -->
                <div class="survey-page" data-page="10">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">What size are your current grips?</div>
                    <div class="question-subtext">If you don't know, select "I don't know".</div>
                    <div class="options-container" style="flex-direction: column; align-items: center; gap: 18px;">
                        <input type="radio" id="size-undersize" name="grip-size" value="Undersize">
                        <label for="size-undersize" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Undersize</label>
                        <input type="radio" id="size-standard" name="grip-size" value="Standard">
                        <label for="size-standard" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Standard</label>
                        <input type="radio" id="size-midsize" name="grip-size" value="Midsize">
                        <label for="size-midsize" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Midsize</label>
                        <input type="radio" id="size-jumbo" name="grip-size" value="Jumbo">
                        <label for="size-jumbo" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Jumbo</label>
                        <input type="radio" id="size-dont-know" name="grip-size" value="I don't know">
                        <label for="size-dont-know" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.15rem; padding: 16px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">I don't know</label>
                    </div>
                </div>

                <!-- Question 9: Swing hand (restyled) -->
                <div class="survey-page" data-page="11">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">Which hand do you swing with?</div>
                    <div class="question-subtext">Select your dominant swing hand.</div>
                    <div class="options-container" style="flex-direction: row; justify-content: center; gap: 18px;">
                        <input type="radio" id="swing-left" name="swing-hand" value="Left">
                        <label for="swing-left" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.3rem; padding: 18px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Left</label>
                        <input type="radio" id="swing-right" name="swing-hand" value="Right">
                        <label for="swing-right" class="option-button" style="background: none; border: none; color: #fff; font-size: 1.3rem; padding: 18px 32px; border-radius: 8px; transition: background 0.2s, color 0.2s;">Right</label>
                    </div>
                </div>

                <!-- Question 10: Iron shot shape (restyled, keep SVG) -->
                <div class="survey-page" data-page="12">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text">What's your typical iron shot shape?</div>
                    <div class="question-subtext">Use the slider to indicate your most common shot shape.</div>
                    <div class="hand-diagram">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <!-- Simplified hand and club illustration -->
                            <g id="hand-illustration">
                                <!-- Club shaft -->
                                <line x1="100" y1="20" x2="100" y2="180" stroke="#718096" stroke-width="4" stroke-linecap="round"/>
                                <!-- Hands -->
                                <ellipse cx="100" cy="100" rx="25" ry="35" fill="#fbbf24" opacity="0.8"/>
                                <ellipse cx="100" cy="120" rx="25" ry="35" fill="#f59e0b" opacity="0.8"/>
                                <!-- Ball path indicator -->
                                <path id="shot-path" d="M 100 180 Q 100 150 100 120" stroke="#4fd1c5" stroke-width="3" fill="none" stroke-dasharray="5,5"/>
                            </g>
                        </svg>
                    </div>
                    <div class="slider-question">
                        <div class="slider-container">
                            <input type="range" id="iron-shot-slider" name="iron-shot-shape" min="0" max="6" value="3" step="1">
                            <div class="slider-labels">
                                <span>Pull Hook</span>
                                <span>Push Slice</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Completion Page (restyled) -->
                <div class="survey-page" data-page="13">
                    <div class="question-icon">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M24 8L30 24L44 24L32 32L36 44L24 36L12 44L16 32L4 24L18 24L24 8Z" stroke="#3ecf4c" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="question-text" style="color: #3ecf4c;">âœ“ Survey Complete!</div>
                    <div class="question-subtext">Thank you for completing the SmartFIT grip assessment. Your personalized grip recommendations are being prepared.</div>
                    <div class="success-message" id="success-message" style="display: block; color: #fff; background: none; font-size: 1.2rem; font-weight: 600;">Your responses have been saved successfully!</div>
                </div>
            </div>

            <div class="nav-container" id="nav-container">
                <button class="nav-button secondary" id="back-button">Back</button>
                <button class="nav-button primary" id="continue-button">Continue</button>
            </div>
        </div>

    <script>
        // Survey state
        let currentPage = 0;
        const totalPages = 14; // Including welcome and completion
        const surveyData = {};
        let selectedAge = null;

        // DOM elements
        const pages = document.querySelectorAll('.survey-page');
        const backButton = document.getElementById('back-button');
        const continueButton = document.getElementById('continue-button');
        const navContainer = document.getElementById('nav-container');
        const progressBarContainer = document.getElementById('progress-bar-container');
        const progressLabel = document.getElementById('progress-label');
        const progressStep = document.getElementById('progress-step');
        const progressBarInner = document.getElementById('progress-bar-inner');


        // Slot machine functionality
        function initSlotMachine() {
            const slotOptions = document.querySelectorAll('.slot-option');
            const slotMachine = document.querySelector('.slot-machine');
            let currentIndex = 0;
            let isDragging = false;
            let startY = 0;
            let currentY = 0;

            // Set initial active option
            if (slotOptions.length > 0) {
                slotOptions[0].classList.add('active');
                selectedAge = slotOptions[0].getAttribute('data-value');
                slotMachine.classList.add('active');
            }

            // Touch events for mobile
            slotMachine.addEventListener('touchstart', handleTouchStart, { passive: false });
            slotMachine.addEventListener('touchmove', handleTouchMove, { passive: false });
            slotMachine.addEventListener('touchend', handleTouchEnd, { passive: false });

            // Mouse events for desktop
            slotMachine.addEventListener('mousedown', handleMouseStart);
            slotMachine.addEventListener('mousemove', handleMouseMove);
            slotMachine.addEventListener('mouseup', handleMouseEnd);
            slotMachine.addEventListener('mouseleave', handleMouseEnd);

            function handleTouchStart(e) {
                e.preventDefault();
                isDragging = true;
                startY = e.touches[0].clientY;
                currentY = startY;
            }

            function handleTouchMove(e) {
                e.preventDefault();
                if (!isDragging) return;
                
                currentY = e.touches[0].clientY;
                const deltaY = currentY - startY;
                const sensitivity = 0.5;
                
                if (Math.abs(deltaY) > 30) {
                    if (deltaY > 0 && currentIndex > 0) {
                        // Scroll down
                        currentIndex--;
                        startY = currentY;
                    } else if (deltaY < 0 && currentIndex < slotOptions.length - 1) {
                        // Scroll up
                        currentIndex++;
                        startY = currentY;
                    }
                    updateSlotDisplay();
                }
            }

            function handleTouchEnd(e) {
                e.preventDefault();
                isDragging = false;
                updateContinueButton();
            }

            function handleMouseStart(e) {
                isDragging = true;
                startY = e.clientY;
                currentY = startY;
                e.preventDefault();
            }

            function handleMouseMove(e) {
                if (!isDragging) return;
                
                currentY = e.clientY;
                const deltaY = currentY - startY;
                const sensitivity = 0.5;
                
                if (Math.abs(deltaY) > 30) {
                    if (deltaY > 0 && currentIndex > 0) {
                        // Scroll down
                        currentIndex--;
                        startY = currentY;
                    } else if (deltaY < 0 && currentIndex < slotOptions.length - 1) {
                        // Scroll up
                        currentIndex++;
                        startY = currentY;
                    }
                    updateSlotDisplay();
                }
            }

            function handleMouseEnd(e) {
                isDragging = false;
                updateContinueButton();
            }

            function updateSlotDisplay() {
                slotOptions.forEach((option, index) => {
                    option.classList.remove('active');
                    if (index === currentIndex) {
                        option.classList.add('active');
                        selectedAge = option.getAttribute('data-value');
                    }
                });
                slotMachine.classList.add('active');
            }

            // Add click functionality for direct selection
            slotOptions.forEach((option, index) => {
                option.addEventListener('click', () => {
                    currentIndex = index;
                    updateSlotDisplay();
                    updateContinueButton();
                });
            });
        }

        // Update progress bar
        function updateProgressBar() {
            const currentStep = currentPage - 1; // Adjust for welcome page
            progressStep.textContent = currentStep + 1;
            const progressPercentage = ((currentStep + 1) / (totalPages - 2)) * 100;
            progressBarInner.style.width = `${progressPercentage}%`;
            progressBarContainer.style.display = 'block';
        }

        // Show page
        function showPage(pageIndex) {
            pages.forEach((page, index) => {
                if (index === pageIndex) {
                    page.classList.add('active');
                } else {
                    page.classList.remove('active');
                }
            });

            // Initialize slot machine if on age question
            if (pageIndex === 2) {
                setTimeout(() => {
                    initSlotMachine();
                }, 100);
            }

            // Update navigation and progress bar visibility
            if (pageIndex === 0) {
                // Welcome page
                navContainer.style.display = 'none';
                progressBarContainer.style.display = 'none';
            } else if (pageIndex === totalPages - 1) {
                // Completion page
                navContainer.style.display = 'none';
                progressBarContainer.style.display = 'none';
            } else if (pageIndex === 1 || pageIndex === 6) {
                // Section intro pages
                navContainer.style.display = 'none';
                progressBarContainer.style.display = 'none';
            } else {
                // Regular question pages
                navContainer.style.display = 'flex';
                progressBarContainer.style.display = 'block';
                backButton.style.display = pageIndex > 1 ? 'block' : 'none';
                updateProgressBar();
            }

            updateContinueButton();
        }

        // Check if current page is valid
        function isPageValid() {
            const currentPageEl = pages[currentPage];
            
            // Special handling for age question (slot machine)
            if (currentPage === 2) {
                return selectedAge !== null;
            }
            
            const inputs = currentPageEl.querySelectorAll('input[type="radio"], input[type="checkbox"]');
            
            if (inputs.length > 0) {
                return Array.from(inputs).some(input => input.checked);
            }
            
            return true; // Pages without inputs are always valid
        }

        // Update continue button state
        function updateContinueButton() {
            if (currentPage === totalPages - 2) {
                continueButton.textContent = 'Submit';
            } else {
                continueButton.textContent = 'Continue';
            }
            
            continueButton.disabled = !isPageValid();
        }

        // Handle option selection
        function handleOptionSelection(e) {
            if (e.target.classList.contains('option-button')) {
                const input = e.target.previousElementSibling;
                if (input && (input.type === 'radio' || input.type === 'checkbox')) {
                    input.checked = !input.checked;
                    
                    // Update visual state
                    if (input.type === 'radio') {
                        const allOptions = input.closest('.options-container').querySelectorAll('.option-button');
                        allOptions.forEach(opt => opt.classList.remove('selected'));
                        if (input.checked) {
                            e.target.classList.add('selected');
                        }
                    } else {
                        e.target.classList.toggle('selected', input.checked);
                    }
                    
                    // Handle "None of the above" logic
                    if (input.name === 'physical-condition') {
                        if (input.id === 'condition-none' && input.checked) {
                            const otherCheckboxes = document.querySelectorAll('input[name="physical-condition"]:not(#condition-none)');
                            otherCheckboxes.forEach(cb => {
                                cb.checked = false;
                                cb.nextElementSibling.classList.remove('selected');
                            });
                        } else if (input.id !== 'condition-none' && input.checked) {
                            document.getElementById('condition-none').checked = false;
                            document.getElementById('condition-none').nextElementSibling.classList.remove('selected');
                        }
                    }
                    updateContinueButton();
                }
            }
        }

        // Handle slider updates
        function handleSliderUpdate(e) {
            if (e.target.id === 'handicap-slider') {
                document.getElementById('handicap-value').textContent = e.target.value;
                document.getElementById('handicap-sub').textContent = `Avg. Score of ${e.target.value}`;
            }
            if (e.target.id === 'rounds-slider') {
                const val = parseInt(e.target.value, 10);
                document.getElementById('rounds-value').textContent = val >= 85 ? '85+' : val;
            }
        }

        // Navigation
        function goToNextPage() {
            if (currentPage < totalPages - 1) {
                currentPage++;
                showPage(currentPage);
            }
        }

        function goToPrevPage() {
            if (currentPage > 1) {
                currentPage--;
                showPage(currentPage);
            }
        }

        // Event listeners
        document.getElementById('begin-button').addEventListener('click', () => {
            currentPage = 1;
            showPage(currentPage);
        });
        document.getElementById('section1-continue').addEventListener('click', () => {
            currentPage = 2;
            showPage(currentPage);
        });
        document.getElementById('section2-continue').addEventListener('click', () => {
            currentPage = 7;
            showPage(currentPage);
        });
        backButton.addEventListener('click', goToPrevPage);
        continueButton.addEventListener('click', goToNextPage);
        document.getElementById('survey-pages').addEventListener('click', handleOptionSelection);
        document.getElementById('survey-pages').addEventListener('input', handleSliderUpdate);

        // Initial setup
        showPage(currentPage);
    </script>
</body>
</html> 